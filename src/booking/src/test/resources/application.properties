## --------- Dev service ---------
quarkus.devservices.timeout=200s
quarkus.keycloak.devservices.service-name=keycloak
quarkus.keycloak.devservices.shared=true
#quarkus.keycloak.devservices.port=40000
quarkus.keycloak.devservices.realm-path=test-realm.json

quarkus.kafka.devservices.service-name=kafka
quarkus.kafka.devservices.shared=true
quarkus.apicurio-registry.devservices.service-name=schema-registry
quarkus.apicurio-registry.devservices.shared=true

## --------- OIDC & Keycloak Authorization ---------
%prod.quarkus.oidc.auth-server-url=http://localhost:40000/realms/concertify
quarkus.oidc.client-id=booking-service
quarkus.oidc.credentials.secret=emGYC5XPSmeWUl2hfDbmlnqcCU500bac
quarkus.oidc.authentication.user-info-required=false
quarkus.oidc.roles.source=accesstoken
quarkus.oidc.roles.role-claim-path=roles

## Auth Policy
quarkus.keycloak.policy-enforcer.enable=true
quarkus.keycloak.policy-enforcer.lazy-load-paths=false

## Public endpoints
quarkus.keycloak.policy-enforcer.paths.1.enforcement-mode=DISABLED
quarkus.keycloak.policy-enforcer.paths.1.paths=\
    /v1/hello,\
    /v1/hello/consumed

# INCOMING: Consumer
mp.messaging.incoming.greeting-in.connector=smallrye-kafka
mp.messaging.incoming.greeting-in.topic=greeting
mp.messaging.incoming.greeting-in.value.deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer
#mp.messaging.incoming.greeting-in.group.id=greeting-group
mp.messaging.incoming.greeting-in.auto.offset.reset=earliest
mp.messaging.incoming.greeting-in.enable.auto.commit=false

# OUTGOING: Producer
mp.messaging.outgoing.greeting-out.connector=smallrye-kafka
mp.messaging.outgoing.greeting-out.topic=greeting
mp.messaging.outgoing.greeting-out.auto.register.schemas=true
mp.messaging.outgoing.greeting-out.value.serializer=io.confluent.kafka.serializers.KafkaAvroSerializer

# OUTGOING: Producer
mp.messaging.outgoing."booking.created-out".connector=smallrye-kafka
mp.messaging.outgoing."booking.created-out".auto.register.schemas=true
mp.messaging.outgoing."booking.created-out".topic=booking.created
mp.messaging.outgoing."booking.created-out".value.serializer=io.confluent.kafka.serializers.KafkaAvroSerializer
